<main class="container">
  <form
    class="form-login"
    *ngIf="!isSuccessful"
    name="form"
    (ngSubmit)="f.form.valid && onSubmit()"
    #f="ngForm"
  >
    <h1 class="h3 mb-3 font-weight-normal">Criando Conta</h1>


    <div class="form-group">
      <label for="name">Nome Completo</label>
      <input
        id="name"
        class="form-control"
        type="text"
        placeholder="..."
        [(ngModel)]="form.name"
        name="name"
        required
        minlength="3"
        maxlength="20"
        #username="ngModel"
      >
      <div class="alert-danger" *ngIf="username.errors && f.submitted">
        <div *ngIf="username.errors.required">Nome de usuário é requerido</div>
        <div *ngIf="username.errors.minlength">
          Nome de Usuário deve ter ao menos 3 caracteres
        </div>
        <div *ngIf="username.errors.maxlength">
          Nome de Usuário deve ter no máximo 20 caracteres
        </div>
      </div>
      <small class="text-muted">Não compartilhamos dados pessoais :]</small>
    </div>
    <div class="form-group">
      <label for="email">e-Mail</label>
      <input
        id="email"
        class="form-control"
        type="email"
        placeholder="fulano@detal.com"
        name="email"
        [(ngModel)]="form.email"
        required
        email
        #email="ngModel"
      >
      <div class="alert-danger" *ngIf="email.errors && f.submitted">
        <div *ngIf="email.errors.required">Email é requerido</div>
        <div *ngIf="email.errors.email">
          Email deve ser válido
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="birthData">Data de Nascimento</label>
      <input
        id="birthData"
        class="form-control"
        name="birthDate"
        type="date"
        [(ngModel)]="form.birthDate"
        required
        max="2003-04-28"
        #birthDate="ngModel"
      >
      <div class="alert-danger" *ngIf="birthDate.errors && f.submitted">
        <div *ngIf="birthDate.errors.required">Data de Nascimento é requerida</div>
        <div *ngIf="birthDate.errors.date">
          Data de Nascimento Inválida
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="login">Nome de Usuário (Login)</label>
      <input
        id="login"
        class="form-control"
        type="text"
        placeholder="..."
        name="login"
        [(ngModel)]="form.login"
        required
        minlength="6"
        maxlength="20"
        #login="ngModel"
      >
      <div class="alert-danger" *ngIf="login.errors && f.submitted">
        <div *ngIf="login.errors.required">Login é requerido</div>
        <div *ngIf="login.errors.minlength">
          Login deve ter ao menos 6 caracteres
        </div>
        <div *ngIf="login.errors.maxlength">
          Login deve ter no máximo 20 caracteres
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="password">Senha</label>
      <input
        id="password"
        class="form-control"
        type="password"
        placeholder="..."
        name="password"
        [(ngModel)]="form.password"
        required
        minlength="6"
        #password="ngModel"
      >
      <div class="alert-danger" *ngIf="password.errors && f.submitted">
        <div *ngIf="password.errors.required">Senha é requerida</div>
        <div *ngIf="password.errors.minlength">
          Senha deve possuir ao menos 6 caracteres
        </div>
      </div>
    </div>

    <button class="btn btn-lg btn-primary btn-block"> CRIAR CONTA ! </button>
    <small class="text-muted">Não compartilhamos seus dados pessoais :]</small>

    <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
      Cadastro Falhou!<br />{{ errorMessage }}
    </div>
  </form>

</main>



